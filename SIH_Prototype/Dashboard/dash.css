:root {
  --bg: #0f1216; --card: #171b22; --muted: #8a95a6; --text: #e9eef7;
  --accent: #4cc2ff; --accent2: #77f39b; --danger: #ff6b6b; --warn: #ffc857; --ok: #61d095; --grid:#232a33;
  --midtrack: #b7dfff;
  --crossover: #ffb357;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
header{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;background:#0b0e12;border-bottom:1px solid var(--grid);position:fixed;top:0;left:0;right:0;z-index:1000}
header .brand{font-weight:700}
.brand .logo{height:40px;width:auto;object-fit:contain;vertical-align:middle;margin-right:10px;border-radius:4px}
.brand-subtitle{
    font-size: 1rem;
  font-weight: 400;
  color: #b7dfff;
  letter-spacing: 0.5px;

}
header nav {
  display: flex;
  align-items: center;
  gap: 0;
}
header nav a {
  color: var(--muted);
  margin-left: 16px;
  text-decoration: none;
  font-size: 15px;
  padding: 6px 0;
}
header nav a.active{
    color: var(--accent);
  border-bottom: 2.5px solid var(--accent);
  font-weight: 700;
  background: rgba(76, 194, 255, 0.08);
  border-radius: 4px 4px 0 0;
  padding-bottom: 4px;

}
 header nav a:hover {
  color: var(--text);
}
.nav-login-btn {
  margin-left: 20px;
  padding: 7px 18px;
  font-size: 15px;
  background: var(--accent);
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.2s;
}
.nav-login-btn:hover {
  background: #108944;
  color: #fff;
}

/* Layout */
.container{
  display:grid;
  grid-template-columns: 0.8fr 1.1fr 1.3fr;
  gap: 12px; padding: 12px; min-height:calc(100vh - 56px);
  box-sizing: border-box;
  margin-top: calc(360px + 16px);
  position: relative;
  z-index: 1;
}
.welcome-container {
  position: fixed;
  left: 0;
  right: 0;
  top: 56px;
  height: 360px;
  background: linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55)), url('Vande\ bharat.avif') ;
  background-size: cover;
  background-position: center 70%;
  background-repeat: no-repeat;
  color: #e9eef7;
  padding: 28px 32px 28px 32px;
  border-bottom: 1px solid var(--grid);
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 0;
  transition: filter 200ms ease, opacity 200ms ease;
}
.welcome-container.is-blurred{ filter: blur(6px) brightness(0.9); }
.welcome-container h2 {
  margin: 0 0 10px 0;
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--accent);
  letter-spacing: 1px;
  text-shadow: 0 2px 6px rgba(0,0,0,0.6);
}
.welcome-container p {
  margin: 0;
  font-size: 1.4rem;
  color: #c7d2e1;
  line-height: 1.6;
  text-shadow: 0 2px 6px rgba(0,0,0,0.6);
}

.card{background:var(--card);border:1px solid var(--grid);border-radius:10px;display:flex;flex-direction:column;overflow:hidden}
.card h3{font-size:17px;font-weight:600;padding:12px 14px;margin:0;border-bottom:1px solid var(--grid);color:var(--muted);display:flex;align-items:center;gap:8px}
.card .content{padding:12px;overflow:auto}

/* Alerts */
.alert{display:grid;grid-template-columns:20px 1fr auto;gap:8px;align-items:center;background:#10151c;border:1px solid var(--grid);border-radius:8px;padding:10px;margin-bottom:8px}
.alert .dot{width:10px;height:10px;border-radius:50%}
.dot.red{background:var(--danger)} .dot.yellow{background:var(--warn)} .dot.green{background:var(--ok)}
.alert .msg{font-size:13px} .alert .ts{font-size:12px;color:var(--muted)}

/* Controls */
.controls .row{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
.controls label{font-size:13px;color:var(--muted)}
.controls input[type="range"]{width:170px}
.btn{background:#0f1520;color:var(--text);border:1px solid var(--grid);border-radius:8px;padding:8px 10px;font-size:13px;cursor:pointer}
.btn:hover{border-color:#34404f}
/* .btn.replan{
    color: rgb(206, 232, 6);
} */
.btn.primary{background:#10304a;border-color:#22455f;color:#0cce3c}
.btn.danger{background:#2a1518;border-color:#4a1f26;color:#ffb3b3}
.btn.ghost{background:transparent;color:var(--muted)}
.btn.dismiss{color: red;}

/* Visualization */
.viz{
  position:relative;
  background: var(--card);
  border-radius: 10px;
  flex:1;
  min-height:420px;
  max-height: 460px;
  padding: 16px;
  overflow: hidden;
}
svg {
  width: 100%;
  height: 420px;
  display: block;
  background: var(--bg);
  border-radius: 8px;
  border: 1px solid var(--grid);
}

/* Track lines */
.track-up {
  stroke: var(--accent);
  stroke-width: 4;
  opacity: 0.8;
}
.track-down {
  stroke: var(--accent2);
  stroke-width: 4;
  opacity: 0.8;
}
.track-mid {
  stroke: var(--midtrack);
  stroke-width: 3;
  stroke-dasharray: 8 6;
  opacity: 0.7;
}
.track-crossover {
  stroke: var(--crossover);
  stroke-width: 2;
  stroke-dasharray: 6 4;
  opacity: 0.6;
}

/* Legend */
.legend{
  display:flex;
  gap:12px;
  padding:10px 12px;
  border-top:1px solid var(--grid);
  font-size:12px;
  color:var(--muted)
}
.legend .key{display:inline-flex;align-items:center;gap:6px}
.legend .swatch{width:14px;height:4px;border-radius:2px;display:inline-block}
.swatch.up{background:var(--accent)}
.swatch.down{background:var(--accent2)}
.swatch.blocked{background:var(--danger)}
.swatch.mid{background:var(--midtrack)}
.swatch.crossover{background:var(--crossover)}

/* Table */
.train-status-table{width:100%;border-collapse:collapse;font-family:monospace}
.train-status-table th,.train-status-table td{border-bottom:1px solid var(--grid);padding:12px 8px;font-size:13px}
.train-status-table th{text-align:left;color:var(--muted);font-weight:600;position:sticky;top:0;background:var(--card);cursor:pointer;transition:color 0.2s ease}
.train-status-table th:hover{color:var(--text)}
.train-status-table th.sortable::after{content:"‚Üï";margin-left:4px;opacity:0.5;font-size:10px}
.train-status-table th.sortable.asc::after{content:"‚Üë";opacity:1}
.train-status-table th.sortable.desc::after{content:"‚Üì";opacity:1}
.train-status-table tbody tr{cursor:pointer;transition:background-color 0.2s ease}
.train-status-table tbody tr:hover{background-color:rgba(255,255,255,0.05)}
.train-status-table tbody tr.selected{background-color:rgba(76,194,255,0.1);border-color:rgba(76,194,255,0.3)}

/* Status indicators */
.status-running{color:var(--ok);display:flex;align-items:center;gap:6px}
.status-held{color:var(--warn);display:flex;align-items:center;gap:6px}
.status-wrong-line{color:var(--danger);display:flex;align-items:center;gap:6px}
.status-running::before{content:"‚ñ∂";animation:pulse 2s infinite}
.status-held::before{content:"‚è∏"}
.status-wrong-line::before{content:"‚ö†"}

/* Platform styling */
.platform-info{display:flex;align-items:center;gap:6px;color:var(--text)}
.platform-info::before{content:"üöâ";font-size:12px}

/* Priority pills */
td .pill{display:inline-block;padding:4px 8px;border-radius:12px;font-size:11px;font-weight:600;text-transform:uppercase}
.pill.priority-high{background-color:rgba(255,107,107,0.1);color:var(--danger);border:1px solid rgba(255,107,107,0.3)}
.pill.priority-medium{background-color:rgba(255,200,87,0.1);color:var(--warn);border:1px solid rgba(255,200,87,0.3)}
.pill.priority-low{background-color:rgba(97,208,149,0.1);color:var(--ok);border:1px solid rgba(97,208,149,0.3)}
.pill.hold{background-color:rgba(255,200,87,0.1);color:var(--warn);border:1px solid rgba(255,200,87,0.3)}
.pill.alt{background-color:rgba(76,194,255,0.1);color:var(--accent);border:1px solid rgba(76,194,255,0.3)}

/* Action buttons */
.action-buttons{display:flex;gap:4px;align-items:center}
.action-btn{background:var(--card);color:var(--text);border:1px solid var(--grid);border-radius:6px;padding:4px 8px;font-size:11px;cursor:pointer;transition:all 0.2s ease}
.action-btn:hover{border-color:var(--accent);background:rgba(76,194,255,0.1)}
.action-btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
.action-btn.danger{background:var(--danger);color:#fff;border-color:var(--danger)}

/* Delay styling */
.delay-on-time{color:var(--ok)}
.delay-late{color:var(--danger)}
.delay-early{color:var(--accent)}

/* AI recommendation panel */
.ai{border-top:1px solid var(--grid);padding:14px 14px 16px;background:#10141b}
.ai .title{color:#b7dfff;font-weight:700;font-size:15px;margin-bottom:8px}
.ai .rec{font-size:14px;color:#eaf3ff;margin-bottom:10px;line-height:1.4}
.ai .note{font-size:12px;color:var(--muted)}
.ai .actions{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
.ai .sub{font-size:12px;color:#9fb3c7;margin-top:8px}
.ai .policy{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
.ai .policy .btn{padding:6px 8px;font-size:12px}

/* AI card spans full width at bottom */
.ai-card{
  grid-column: 1 / -1;
  margin-top: 12px;
}

/* Adjust train status container height */
.trains-card{
  height: fit-content;
  max-height: calc(100vh - 500px);
}

/* Alert logo styling */
.alert-logo{
  height: 25px;
  width: auto;
  filter: brightness(0) saturate(100%) invert(60%) sepia(100%) saturate(2000%) hue-rotate(0deg) brightness(1.2);
  transition: filter 0.3s ease;
}

/* Track logo styling */
.track-logo{
  height: 30px;
  width: auto;
  filter: brightness(0) saturate(100%) invert(70%) sepia(100%) saturate(1500%) hue-rotate(200deg) brightness(1.3);
  transition: filter 0.3s ease;
  margin-right: 2px;
}

/* Train status logo styling */
.train-logo{
  height: 25px;
  width: auto;
  filter: brightness(0) saturate(100%) invert(65%) sepia(100%) saturate(1800%) hue-rotate(120deg) brightness(1.2);
  transition: filter 0.3s ease;
  margin-right: 2px;
  vertical-align: middle;
  position: relative;
  top: 6px;
}
.brain-logo{
     height: 25px;
  width: auto;
  filter: brightness(0) saturate(100%) invert(65%) sepia(100%) saturate(1800%) hue-rotate(120deg) brightness(1.8);
  transition: filter 0.3s ease;
  margin-right: 2px;
  margin-top: 10px;

}

/* SVG labels + bigger trains */
.station-label{font-size:16px;fill:#4cc2ff;font-family:monospace;font-weight:bold;user-select:none;text-shadow:0 0 8px rgba(76,194,255,0.5)}
.block-label{font-size:10px;fill:#8896aa;user-select:none}

/* Modern train styling */
.train-rect{
  fill: var(--accent);
  stroke: #ffffff;
  stroke-width: 1.5;
  rx: 2;
  transition: all 0.3s ease;
}
.train-rect:hover{
  stroke-width: 2;
  filter: brightness(1.2);
}
.train-text{
  font-size: 50px;
  fill: #ffffff;
  font-family: monospace;
  font-weight: bold;
  text-anchor: middle;
  text-shadow: 0 0 4px rgba(0,0,0,0.8);
  stroke: #000000;
  stroke-width: 0.5;
}
